<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet" />

    <title>Sistem Informasi Geografis</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css" />
    <link rel="stylesheet" href="assets/css/templatemo-grad-school.css" />
    <link rel="stylesheet" href="assets/css/owl.css" />
    <link rel="stylesheet" href="assets/css/lightbox.css" />
    <!--
    
TemplateMo 557 Grad School

https://templatemo.com/tm-557-grad-school

-->
    <!-- Google Font Poppins untuk panel filter -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      /* ====== Peta Klasifikasi Section ====== */
      :root {
        --navy:   #172238;
        --navy2:  #1e2f4d;
        --amber:  #f5a425;
        --amber2: #e08c10;
        --glass:  rgba(255,255,255,0.06);
      }

      /* Wrapper utama */
      .peta-klasifikasi-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: 28px;
        align-items: flex-start;
        margin-top: 24px;
        position: relative;
        z-index: 5;
      }

      /* Panel tombol */
      .btn-panel {
        flex: 0 0 230px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        position: relative;
        z-index: 10;
        background: rgba(23,34,56,0.55);
        backdrop-filter: blur(10px);
        border-radius: 16px;
        padding: 20px 16px;
        border: 1px solid rgba(245,164,37,0.2);
        box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      }

      /* Label atas panel */
      .btn-panel-title {
        font-family: 'Poppins', 'Montserrat', sans-serif;
        color: var(--amber);
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        margin-bottom: 6px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(245,164,37,0.3);
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .btn-panel-title::before {
        content: '';
        width: 4px;
        height: 16px;
        background: var(--amber);
        border-radius: 2px;
        flex-shrink: 0;
      }

      /* Tombol kategori */
      .cat-btn {
        font-family: 'Poppins', 'Montserrat', sans-serif;
        padding: 12px 16px;
        width: 100%;
        color: rgba(255,255,255,0.85);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 10px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: left;
        display: flex !important;
        align-items: center;
        gap: 12px;
        position: relative;
        z-index: 10;
        pointer-events: auto !important;
        overflow: hidden;
        background: var(--glass);
      }

      /* Shimmer effect */
      .cat-btn::after {
        content: '';
        position: absolute;
        top: 0; left: -100%;
        width: 60%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        transition: left 0.5s ease;
      }
      .cat-btn:hover::after {
        left: 150%;
      }

      /* Ikon warna kategori */
      .cat-btn .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        flex-shrink: 0;
        transition: transform 0.3s ease;
        box-shadow: 0 0 6px currentColor;
      }
      .cat-btn:hover .dot,
      .cat-btn.active .dot {
        transform: scale(1.4);
      }

      /* Warna per kategori — matching warna peta */
      .cat-btn[data-category="sangat_rendah"] .dot { background: #a68989; color: #a68989; }
      .cat-btn[data-category="rendah"]        .dot { background: #e7d3a5; color: #e7d3a5; }
      .cat-btn[data-category="sedang"]        .dot { background: #a7dbd3; color: #a7dbd3; }
      .cat-btn[data-category="tinggi"]        .dot { background: #6e8562; color: #6e8562; }

      /* Hover: lift + amber border */
      section.contact .cat-btn,
      section.contact .reset-btn {
        pointer-events: auto !important;
        cursor: pointer !important;
        font-family: 'Poppins', 'Montserrat', sans-serif !important;
      }
      .cat-btn:hover {
        background: rgba(245,164,37,0.12) !important;
        border-color: rgba(245,164,37,0.5) !important;
        color: #fff !important;
        transform: translateX(5px);
        box-shadow: 0 4px 20px rgba(245,164,37,0.2);
      }

      /* State aktif */
      .cat-btn.active {
        background: rgba(245,164,37,0.2) !important;
        border-color: var(--amber) !important;
        color: #fff !important;
        transform: translateX(5px);
        box-shadow: 0 0 0 2px var(--amber), 0 6px 24px rgba(245,164,37,0.25) !important;
      }
      .cat-btn.active::before {
        content: '';
        position: absolute;
        right: 14px;
        top: 50%;
        transform: translateY(-50%);
        width: 6px;
        height: 6px;
        background: var(--amber);
        border-radius: 50%;
        box-shadow: 0 0 8px var(--amber);
        animation: pulse-dot 1.5s infinite;
      }
      @keyframes pulse-dot {
        0%, 100% { opacity: 1; transform: translateY(-50%) scale(1); }
        50%       { opacity: 0.5; transform: translateY(-50%) scale(1.6); }
      }

      /* Tombol Reset */
      .reset-btn {
        font-family: 'Poppins', 'Montserrat', sans-serif;
        padding: 10px 16px;
        width: 100%;
        background: transparent;
        color: rgba(255,255,255,0.5);
        border: 1px dashed rgba(255,255,255,0.2);
        border-radius: 10px;
        font-size: 12px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 6px;
        letter-spacing: 0.5px;
        text-align: center;
        position: relative;
        z-index: 10;
        pointer-events: auto !important;
      }
      .reset-btn:hover {
        background: rgba(255,255,255,0.07);
        border-color: rgba(255,255,255,0.45);
        color: rgba(255,255,255,0.85);
        letter-spacing: 1.5px;
      }

      /* Panel Peta */
      .map-panel {
        flex: 1 1 400px;
        min-width: 280px;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 12px 40px rgba(0,0,0,0.5);
        border: 1px solid rgba(245,164,37,0.15);
        position: relative;
      }
      .map-panel iframe {
        display: block;
        width: 100%;
        height: 450px;
        border: none;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .btn-panel { flex: 0 0 100%; flex-direction: row; flex-wrap: wrap; }
        .cat-btn   { flex: 1 1 calc(50% - 5px); }
        .map-panel iframe { height: 320px; }
      }
      @media (max-width: 480px) {
        .cat-btn { flex: 1 1 100%; }
      }
    </style>
  </head>

  <body>
    <!--header-->
    <header class="main-header clearfix" role="header">
      <div class="logo">
        <a href="#"><em>WEB</em> GIS</a>
      </div>
      <a href="#menu" class="menu-link"><i class="fa fa-bars"></i></a>
      <nav id="menu" class="main-nav" role="navigation">
        <ul class="main-menu">
          <li><a href="#section1">Home</a></li>
          <li class="has-submenu">
            <a href="#section2">About</a>
            <ul class="sub-menu">
              <li><a href="#section2">What?</a></li>
              <li><a href="#section3">Tabel?</a></li>
            </ul>
          </li>
          <!-- <li><a href="#section5">Video</a></li> -->
          <li><a href="#section5">View Map</a></li>
          <li>
            <a
              href="https://kendalkab.bps.go.id/id/statistics-table/3/YmlzemNGUkNVblZLVVhOblREWnZXbkEzWld0eVVUMDkjMyMzMzI0/jumlah-rumah-sakit-umum--rumah-sakit-khusus--puskesmas--klinik-pratama--dan-posyandu-menurut-kecamatan-di-kabupaten-kendal.html?year=2024"
              class="external"
              >Data Source</a
            >
          </li>
        </ul>
      </nav>
    </header>

    <!-- ***** Main Banner Area Start ***** -->
    <section class="section main-banner" id="top" data-section="section1">
      <video autoplay muted loop id="bg-video">
        <source src="assets/images/course-video.mp4" type="video/mp4" />
      </video>

      <div class="video-overlay header-text">
        <div class="caption">
          <h2>Pemetaan Fasilitas Kesehatan dan Tenaga Kesehatan Di Kabupaten <em style="color: rgb(102, 118, 171)">Kendal</em></h2>
          <br />
          <br />

          <div class="main-button">
            <br />
            <br />
            <div class="scroll-to-section"><a href="#section2">Know More</a></div>
          </div>
        </div>
      </div>
    </section>
    <!-- ***** Main Banner Area End ***** -->

    <section class="section why-us" data-section="section2">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-heading">
              <h2>Pendahuluan</h2>
            </div>
          </div>
          <div class="col-md-12">
            <div id="tabs">
              <ul>
                <li><a href="#tabs-1">Latar Belakang</a></li>
                <li><a href="#tabs-2">Tujuan</a></li>
                <li><a href="#tabs-3">Metode</a></li>
              </ul>
              <section class="tabs-content">
                <article id="tabs-1">
                  <div class="row">
                    <div class="col-md-6">
                      <img src="assets/images/choose-us-image-01.png" alt="" />
                    </div>
                    <div class="col-md-6">
                      <p>
                        Ketersediaan fasilitas kesehatan dan tenaga kesehatan yang merata merupakan faktor penting dalam meningkatkan kualitas pelayanan kesehatan suatu daerah. Di Kabupaten Kendal, pertumbuhan penduduk dan dinamika urbanisasi
                        menyebabkan kebutuhan layanan kesehatan meningkat dan tidak selalu sejalan dengan pemerataan penyedia layanan.
                      </p>
                      <p>
                        Oleh karena itu, diperlukan analisis spasial untuk mengetahui distribusi fasilitas kesehatan serta tenaga kesehatan secara lebih akurat. Sistem Informasi Geografis (SIG) menjadi alat yang efektif untuk memetakan,
                        menganalisis, dan mengevaluasi sebaran tersebut sehingga dapat menjadi dasar perencanaan dan pengambilan keputusan pemerintah maupun pemangku kepentingan terkait.
                      </p>
                    </div>
                  </div>
                </article>
                <article id="tabs-2">
                  <div class="row">
                    <div class="col-md-6">
                      <img src="assets/images/choose-us-image-02.png" alt="" />
                    </div>
                    <div class="col-md-6">
                      <p>1. Menganalisis sebaran fasilitas kesehatan di Kabupaten Kendal berdasarkan kategori (RS Umum, RS Khusus, Klinik, Puskesmas).</p>
                      <p>2. Mengidentifikasi persebaran tenaga kesehatan pada setiap fasilitas kesehatan.</p>
                      <p>3. Menilai tingkat pemerataan fasilitas dan tenaga kesehatan antar kecamatan.</p>
                      <p>4. Menyajikan hasil analisis dalam bentuk peta tematik menggunakan Sistem Informasi Geografis (SIG).</p>
                      <p>5. Memberikan rekomendasi untuk mendukung perencanaan pemerataan pelayanan kesehatan di Kabupaten Kendal.</p>
                    </div>
                  </div>
                </article>
                <article id="tabs-3">
                  <div class="row">
                    <div class="col-md-6">
                      <img src="assets/images/choose-us-image-03.png" alt="" />
                    </div>
                    <div class="col-md-6">
                      <p>Pengumpulan Data Data fasilitas kesehatan: lokasi, jenis, kapasitas, status. Data tenaga kesehatan: jumlah dokter, perawat, bidan, dan tenaga lain per fasilitas.</p>
                      <p>Pengolahan Data Pembersihan dan verifikasi data atribut. Konversi data koordinat/lokasi ke format GIS.</p>
                      <p>
                        Analisis SIG Mapping point lokasi fasilitas kesehatan. Overlay analysis dengan batas kecamatan. Analisis pemerataan: rasio jumlah fasilitas dan tenaga kesehatan per jumlah penduduk/kecamatan. Klasifikasi peta tematik
                        berdasarkan jumlah fasilitas dan tenaga kesehatan.
                      </p>
                      <p>Penyajian Hasil Peta sebaran fasilitas kesehatan. Peta sebaran tenaga kesehatan. Peta tingkat pemerataan. Interpretasi hasil dalam bentuk tabel dan grafik.</p>
                    </div>
                  </div>
                </article>
              </section>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section coming-soon" data-section="section3">
      <style>
        /* Semua teks dalam tabel jadi putih */
        .table-white td,
        .table-white th {
          color: white !important;
        }
      </style>

      <div class="container">
        <div class="row">
          <div class="col-12">
            <h4 class="mb-4" style="color: #fff; text-align: center">Tabel Sebaran Fasilitas & Tenaga Kesehatan – Kabupaten Kendal</h4>

            <div class="table-responsive">
              <table class="table table-bordered table-striped table-white">
                <thead class="table-dark">
                  <tr>
                    <th>No</th>
                    <th>Kecamatan</th>
                    <th>RS Umum</th>
                    <th>Puskesmas</th>
                    <th>Klinik</th>
                    <th>Perawat</th>
                    <th>Bidan</th>
                    <th>Tenaga Medis</th>
                  </tr>
                </thead>

                <tbody>
                  <tr><td>1</td><td>Boja</td><td>2</td><td>2</td><td>7</td><td>171</td><td>80</td><td>57</td></tr>
                  <tr><td>2</td><td>Brangsong</td><td>0</td><td>2</td><td>3</td><td>41</td><td>42</td><td>9</td></tr>
                  <tr><td>3</td><td>Cepiring</td><td>0</td><td>0</td><td>4</td><td>28</td><td>32</td><td>5</td></tr>
                  <tr><td>4</td><td>Gemuh</td><td>2</td><td>2</td><td>0</td><td>132</td><td>75</td><td>59</td></tr>
                  <tr><td>5</td><td>Kaliwungu</td><td>0</td><td>1</td><td>5</td><td>99</td><td>47</td><td>5</td></tr>
                  <tr><td>6</td><td>Kaliwungu Selatan</td><td>1</td><td>1</td><td>2</td><td>7</td><td>20</td><td>41</td></tr>
                  <tr><td>7</td><td>Kangkung</td><td>0</td><td>2</td><td>2</td><td>12</td><td>26</td><td>6</td></tr>
                  <tr><td>8</td><td>Kendal</td><td>1</td><td>2</td><td>9</td><td>371</td><td>97</td><td>97</td></tr>
                  <tr><td>9</td><td>Limbangan</td><td>0</td><td>1</td><td>1</td><td>21</td><td>24</td><td>5</td></tr>
                  <tr><td>10</td><td>Ngampel</td><td>0</td><td>1</td><td>3</td><td>10</td><td>27</td><td>4</td></tr>
                  <tr><td>11</td><td>Pageruyung</td><td>0</td><td>1</td><td>3</td><td>16</td><td>18</td><td>3</td></tr>
                  <tr><td>12</td><td>Patean</td><td>0</td><td>1</td><td>2</td><td>24</td><td>24</td><td>5</td></tr>
                  <tr><td>13</td><td>Patebon</td><td>0</td><td>2</td><td>3</td><td>17</td><td>33</td><td>8</td></tr>
                  <tr><td>14</td><td>Pegandon</td><td>0</td><td>1</td><td>1</td><td>32</td><td>34</td><td>5</td></tr>
                  <tr><td>15</td><td>Plantungan</td><td>0</td><td>1</td><td>1</td><td>13</td><td>19</td><td>3</td></tr>
                  <tr><td>16</td><td>Ringinarum</td><td>0</td><td>1</td><td>0</td><td>13</td><td>23</td><td>3</td></tr>
                  <tr><td>17</td><td>Rowosari</td><td>0</td><td>1</td><td>1</td><td>41</td><td>34</td><td>8</td></tr>
                  <tr><td>18</td><td>Singorojo</td><td>0</td><td>2</td><td>2</td><td>18</td><td>39</td><td>7</td></tr>
                  <tr><td>19</td><td>Sukorejo</td><td>0</td><td>2</td><td>3</td><td>33</td><td>39</td><td>7</td></tr>
                  <tr><td>20</td><td>Weleri</td><td>1</td><td>2</td><td>2</td><td>278</td><td>67</td><td>66</td></tr>
                  <tr>
                    <td>1</td>
                    <td>Kendal</td>
                    <td>1</td>
                    <td>2</td>
                    <td>18</td>
                    <td>320</td>
                    <td>65</td>
                    <td>142</td>
                  </tr>

                  <tr>
                    <td>2</td>
                    <td>Kaliwungu</td>
                    <td>0</td>
                    <td>1</td>
                    <td>10</td>
                    <td>185</td>
                    <td>38</td>
                    <td>97</td>
                  </tr>

                  <tr>
                    <td>3</td>
                    <td>Brangsong</td>
                    <td>0</td>
                    <td>0</td>
                    <td>5</td>
                    <td>92</td>
                    <td>21</td>
                    <td>44</td>
                  </tr>

                  <tr>
                    <td>4</td>
                    <td>Pegandon</td>
                    <td>0</td>
                    <td>0</td>
                    <td>4</td>
                    <td>78</td>
                    <td>18</td>
                    <td>37</td>
                  </tr>

                  <tr>
                    <td>5</td>
                    <td>Ngampel</td>
                    <td>0</td>
                    <td>0</td>
                    <td>3</td>
                    <td>64</td>
                    <td>14</td>
                    <td>29</td>
                  </tr>

                  <tr>
                    <td>6</td>
                    <td>Gemuh</td>
                    <td>0</td>
                    <td>0</td>
                    <td>6</td>
                    <td>105</td>
                    <td>24</td>
                    <td>51</td>
                  </tr>

                  <tr>
                    <td>7</td>
                    <td>Ringinarum</td>
                    <td>0</td>
                    <td>0</td>
                    <td>3</td>
                    <td>58</td>
                    <td>13</td>
                    <td>27</td>
                  </tr>

                  <tr>
                    <td>8</td>
                    <td>Weleri</td>
                    <td>0</td>
                    <td>1</td>
                    <td>9</td>
                    <td>167</td>
                    <td>35</td>
                    <td>84</td>
                  </tr>

                  <tr>
                    <td>9</td>
                    <td>Rowosari</td>
                    <td>0</td>
                    <td>0</td>
                    <td>4</td>
                    <td>72</td>
                    <td>16</td>
                    <td>33</td>
                  </tr>

                  <tr>
                    <td>10</td>
                    <td>Kangkung</td>
                    <td>0</td>
                    <td>0</td>
                    <td>3</td>
                    <td>61</td>
                    <td>13</td>
                    <td>28</td>
                  </tr>

                  <tr>
                    <td>11</td>
                    <td>Cepiring</td>
                    <td>0</td>
                    <td>0</td>
                    <td>5</td>
                    <td>89</td>
                    <td>19</td>
                    <td>42</td>
                  </tr>

                  <tr>
                    <td>12</td>
                    <td>Patebon</td>
                    <td>0</td>
                    <td>0</td>
                    <td>4</td>
                    <td>76</td>
                    <td>17</td>
                    <td>35</td>
                  </tr>

                  <tr>
                    <td>13</td>
                    <td>Patean</td>
                    <td>0</td>
                    <td>0</td>
                    <td>3</td>
                    <td>55</td>
                    <td>12</td>
                    <td>25</td>
                  </tr>

                  <tr>
                    <td>14</td>
                    <td>Sukorejo</td>
                    <td>0</td>
                    <td>1</td>
                    <td>7</td>
                    <td>134</td>
                    <td>29</td>
                    <td>63</td>
                  </tr>

                  <tr>
                    <td>15</td>
                    <td>Plantungan</td>
                    <td>0</td>
                    <td>0</td>
                    <td>2</td>
                    <td>48</td>
                    <td>11</td>
                    <td>22</td>
                  </tr>

                  <tr>
                    <td>16</td>
                    <td>Boja</td>
                    <td>0</td>
                    <td>1</td>
                    <td>8</td>
                    <td>152</td>
                    <td>32</td>
                    <td>71</td>
                  </tr>

                  <tr>
                    <td>17</td>
                    <td>Limbangan</td>
                    <td>0</td>
                    <td>0</td>
                    <td>2</td>
                    <td>44</td>
                    <td>10</td>
                    <td>20</td>
                  </tr>

                  <tr>
                    <td>18</td>
                    <td>Singorojo</td>
                    <td>0</td>
                    <td>0</td>
                    <td>3</td>
                    <td>57</td>
                    <td>12</td>
                    <td>26</td>
                  </tr>

                  <tr>
                    <td>19</td>
                    <td>Kaliwungu Selatan</td>
                    <td>0</td>
                    <td>0</td>
                    <td>4</td>
                    <td>69</td>
                    <td>15</td>
                    <td>31</td>
                  </tr>

                  <tr>
                    <td>20</td>
                    <td>Pageruyung</td>
                    <td>0</td>
                    <td>0</td>
                    <td>2</td>
                    <td>41</td>
                    <td>9</td>
                    <td>18</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section video" data-section="section5">
      <div class="container">
        <!-- Judul Tetap -->
        <div class="row">
          <div class="col-md-12">
            <div class="section-heading" style="margin-top: -60px">
              <h2>Peta Tematik</h2>
            </div>
          </div>
        </div>

        <!-- Iframe Map -->
        <div class="row">
          <div class="col-md-12">
            <div style="width: 100%; height: 500px; border-radius: 12px; overflow: hidden">
              <iframe src="peta_kabupaten_kendal/index.html" style="border: 0; width: 100%; height: 100%; border-radius: 12px" allowfullscreen loading="lazy"> </iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section contact" data-section="section6">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-heading">
              <h2>Peta Klasifikasi</h2>
            </div>
          </div>
          <div class="col-md-12">
            <div class="peta-klasifikasi-wrapper">
              <!-- Panel Tombol Filter -->
              <div class="btn-panel">
                <p class="btn-panel-title">Filter Kategori</p>
                <button class="cat-btn" data-category="sangat_rendah" onclick="filterMap('sangat_rendah')">
                  <span class="dot"></span> Sangat Rendah
                </button>
                <button class="cat-btn" data-category="rendah" onclick="filterMap('rendah')">
                  <span class="dot"></span> Rendah
                </button>
                <button class="cat-btn" data-category="sedang" onclick="filterMap('sedang')">
                  <span class="dot"></span> Sedang
                </button>
                <button class="cat-btn" data-category="tinggi" onclick="filterMap('tinggi')">
                  <span class="dot"></span> Tinggi
                </button>
                <button class="reset-btn" data-category="all" onclick="filterMap('all')">&#8635; Tampilkan Semua</button>
              </div>
              <!-- Panel Peta -->
              <div class="map-panel" id="map">
                <iframe src="peta_klasifikasi_kabupaten_kendal/index.html" allowfullscreen loading="lazy"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <p><i class="fa fa-copyright"></i> Copyright 2026 by Myself| Design: <a href="https://templatemo.com" rel="sponsored" target="_parent">Syauqi</a></p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/tabs.js"></script>
    <script src="assets/js/video.js"></script>
    <script src="assets/js/slick-slider.js"></script>
    <script src="assets/js/custom.js"></script>
    <script>
      //according to loftblog tut
      $(".nav li:first").addClass("active");

      var showSection = function showSection(section, isAnimate) {
        var direction = section.replace(/#/, ""),
          reqSection = $(".section").filter('[data-section="' + direction + '"]'),
          reqSectionPos = reqSection.offset().top - 0;

        if (isAnimate) {
          $("body, html").animate(
            {
              scrollTop: reqSectionPos,
            },
            800
          );
        } else {
          $("body, html").scrollTop(reqSectionPos);
        }
      };

      var checkSection = function checkSection() {
        $(".section").each(function () {
          var $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
          if (topEdge < wScroll && bottomEdge > wScroll) {
            var currentId = $this.data("section"),
              reqLink = $("a").filter("[href*=\\#" + currentId + "]");
            reqLink.closest("li").addClass("active").siblings().removeClass("active");
          }
        });
      };

      $(".main-menu, .scroll-to-section").on("click", "a", function (e) {
        if ($(e.target).hasClass("external")) {
          return;
        }
        e.preventDefault();
        $("#menu").removeClass("active");
        showSection($(this).attr("href"), true);
      });

      $(window).scroll(function () {
        checkSection();
      });
    </script>
    <script>
      // Fungsi global agar bisa dipanggil dari onclick inline juga
      function filterMap(category) {
        var mapFrame = document.querySelector(".map-panel iframe");
        if (!mapFrame) return;

        // Kirim postMessage, retry jika iframe belum siap
        function tryPost() {
          try {
            mapFrame.contentWindow.postMessage({ type: "filter-category", category: category }, "*");
          } catch(e) {
            console.warn("postMessage gagal, coba lagi...", e);
          }
        }

        if (mapFrame.contentDocument && mapFrame.contentDocument.readyState === "complete") {
          tryPost();
        } else {
          mapFrame.addEventListener("load", tryPost, { once: true });
          tryPost(); // coba langsung dulu
        }

        // Update visual tombol
        document.querySelectorAll(".cat-btn").forEach(function(b) {
          b.classList.remove("active");
        });
        if (category !== "all") {
          var clicked = document.querySelector('.cat-btn[data-category="' + category + '"]');
          if (clicked) clicked.classList.add("active");
        }
      }

      // Pasang event listener setelah DOM siap
      document.addEventListener("DOMContentLoaded", function() {
        document.querySelectorAll(".cat-btn").forEach(function(btn) {
          btn.addEventListener("click", function() {
            filterMap(this.dataset.category);
          });
        });
        var resetBtn = document.querySelector(".reset-btn");
        if (resetBtn) {
          resetBtn.addEventListener("click", function() {
            filterMap("all");
          });
        }
      });

      // Fallback: pasang lagi setelah window load (antisipasi jika DOMContentLoaded terlewat)
      window.addEventListener("load", function() {
        document.querySelectorAll(".cat-btn").forEach(function(btn) {
          btn.onclick = function() { filterMap(this.dataset.category); };
        });
        var resetBtn = document.querySelector(".reset-btn");
        if (resetBtn) {
          resetBtn.onclick = function() { filterMap("all"); };
        }
      });
    </script>
  </body>
</html>
